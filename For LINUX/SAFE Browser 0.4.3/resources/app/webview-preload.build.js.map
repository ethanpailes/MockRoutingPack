{"version":3,"file":"webview-preload.build.js","sources":["app/lib/fg/import-web-apis.js","app/webview-preload.js"],"sourcesContent":["import { ipcRenderer, webFrame } from 'electron'\nimport rpc from 'pauls-electron-rpc'\n\n// it would be better to import this from package.json\nconst BEAKER_VERSION = '0.0.1'\n\n// method which will populate window.beaker with the APIs deemed appropriate for the protocol\nexport default function () {\n\n  // mark the safe protocol as 'secure' to enable all DOM APIs\n  webFrame.registerURLSchemeAsSecure('safe');\n  window.beaker = { version: BEAKER_VERSION }\n  var webAPIs = ipcRenderer.sendSync('get-web-api-manifests', window.location.protocol)\n  for (var k in webAPIs) {\n    window[k] = rpc.importAPI(k, webAPIs[k], { timeout: false })\n  }\n}","import importWebAPIs from './lib/fg/import-web-apis'\nimport babelBrowserBuild from 'browser-es-module-loader/dist/babel-browser-build'\nimport BrowserESModuleLoader from 'browser-es-module-loader/dist/browser-es-module-loader'\n\n// setup UI\nimportWebAPIs()\n\n// attach globals\nwindow.BrowserESModuleLoader = BrowserESModuleLoader"],"names":["BEAKER_VERSION","registerURLSchemeAsSecure","beaker","version","webAPIs","ipcRenderer","sendSync","window","location","protocol","k","rpc","importAPI","timeout","importWebAPIs","BrowserESModuleLoader"],"mappings":";;;;;;;;;AAGA;AACA,MAAMA,iBAAiB,OAAvB;;;AAGA,0BAA2B;;;oBAGhBC,yBAAT,CAAmC,MAAnC;SACOC,MAAP,GAAgB,EAAEC,SAASH,cAAX,EAAhB;MACII,UAAUC,qBAAYC,QAAZ,CAAqB,uBAArB,EAA8CC,OAAOC,QAAP,CAAgBC,QAA9D,CAAd;OACK,IAAIC,CAAT,IAAcN,OAAd,EAAuB;WACdM,CAAP,IAAYC,IAAIC,SAAJ,CAAcF,CAAd,EAAiBN,QAAQM,CAAR,CAAjB,EAA6B,EAAEG,SAAS,KAAX,EAA7B,CAAZ;;;;ACVJ;AACAC;;;AAGAP,OAAOQ,qBAAP,GAA+BA,qBAA/B"}